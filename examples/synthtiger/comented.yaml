# Output settings
coord_output: true        # Enable coordinate output
mask_output: true         # Enable mask output
glyph_coord_output: true  # Enable glyph coordinate output
glyph_mask_output: true   # Enable glyph mask output

# General settings
vertical: true            # Set text orientation to vertical
quality: [50, 95]         # Range for image quality (JPEG compression)
visibility_check: true    # Enable visibility check for text

# Midground settings
midground: 0.25           # Probability of adding midground text
midground_offset:
  percents: [[-0.5, 0.5], [-0.5, 0.5]]  # Range for midground text offset
foreground_mask_pad: 5    # Padding for foreground mask

# Corpus settings
corpus:
  weights: [1, 0]         # Weights for different corpus types
  args:
    # Length augmentable corpus
    - paths: [resources/corpus/mjsynth.txt, resources/corpus/synthtext.txt]
      weights: [1, 1]     # Equal weights for both corpus files
      min_length: 1       # Minimum text length
      max_length: 15      # Maximum text length
      textcase: [lower, upper, capitalize]  # Text case options
      augmentation: 0.1   # Probability of text augmentation
      augmentation_length: [1, 15]  # Range for augmented text length
    # Char augmentable corpus (currently not used)
    - paths: []
      weights: []
      min_length: 1
      max_length: 15
      textcase: [lower, upper, capitalize]
      augmentation: 0
      augmentation_charset: resources/charset/alphanum_special.txt

# Font settings
font:
  paths: [resources/font]
  weights: [1]
  size: [40, 80]          # Range for font size
  bold: 0.5               # Probability of using bold font

# Texture settings
texture:
  prob: 0.5               # Probability of applying texture
  args:
    paths: [resources/image]
    weights: [1]
    alpha: [0, 1]         # Range for texture opacity
    grayscale: 0          # Probability of using grayscale texture
    crop: 1               # Probability of cropping texture

# Color settings
colormap2:
  paths: [resources/colormap/iiit5k_gray.txt]
  weights: [1]
  k: 2                    # Number of colors to use
  alpha: [1, 1]           # Range for color opacity
  colorize: 1             # Probability of colorizing

colormap3:
  paths: [resources/colormap/iiit5k_gray.txt]
  weights: [1]
  k: 3                    # Number of colors to use
  alpha: [1, 1]
  colorize: 1

color:
  gray: [0, 255]          # Range for grayscale color
  alpha: [1, 1]
  colorize: 1

# Shape distortion settings
shape:
  prob: 1                 # Probability of applying shape distortion
  args:
    weights: [1, 1]
    args:
      # Strong elastic distortion
      - alpha: [15, 30]
        sigma: [4, 12]
      # Subtle elastic distortion
      - alpha: [0, 2]
        sigma: [0, 0.6]

# Layout settings
layout:
  weights: [4, 1]         # Weights for different layout types
  args:
    # Flow layout (straight text)
    - space: [0, 0]
      line_align: [middle]
    # Curve layout
    - curve: [10, 20]     # Range for curve intensity
      space: [0, 0]
      convex: 0.5         # Probability of convex curve
      upward: 0.5         # Probability of upward curve

# Text style settings
style:
  prob: 0.25              # Probability of applying text style
  args:
    weights: [1, 2, 2]    # Weights for different style types
    args:
      # Text border
      - size: [1, 12]     # Range for border size
        alpha: [1, 1]
        grayscale: 0
      # Text shadow
      - distance: [1, 6]  # Range for shadow distance
        angle: [0, 360]   # Range for shadow angle
        alpha: [0.3, 0.7] # Range for shadow opacity
        grayscale: 0
      # Text extrusion
      - length: [1, 12]   # Range for extrusion length
        angle: [0, 360]   # Range for extrusion angle
        alpha: [1, 1]
        grayscale: 0

# Transform settings
transform:
  prob: 1                 # Probability of applying transform
  args:
    weights: [1, 1, 1, 1, 1, 1, 2]  # Weights for different transform types
    args:
      # Perspective transform (x-axis)
      - percents: [[0.5, 1], [1, 1]]
        aligns: [[0, 0], [0, 0]]
      # Perspective transform (y-axis)
      - percents: [[1, 1], [0.5, 1]]
        aligns: [[0, 0], [0, 0]]
      # Trapezoid transform (x-axis)
      - weights: [1, 0, 1, 0]
        percent: [0.5, 1]
        align: [-1, 1]
      # Trapezoid transform (y-axis)
      - weights: [0, 1, 0, 1]
        percent: [0.875, 1]
        align: [-1, 1]
      # Skew transform (x-axis)
      - weights: [1, 0]
        angle: [0, 5]     # Range for skew angle
        ccw: 0.5          # Probability of counter-clockwise skew
      # Skew transform (y-axis)
      - weights: [0, 1]
        angle: [0, 30]    # Range for skew angle
        ccw: 0.5
      # Rotation
      - angle: [0, 5]     # Range for rotation angle
        ccw: 0.5          # Probability of counter-clockwise rotation

# Padding settings
pad:
  prob: 1                 # Probability of applying padding
  args:
    pxs: [[0, 10], [0, 10], [0, 10], [0, 10]]  # Range for padding on all sides

# Post-processing settings
postprocess:
  args:
    # Gaussian noise
    - prob: 1             # Probability of applying Gaussian noise
      args:
        scale: [4, 8]     # Range for noise intensity
        per_channel: 0    # Probability of per-channel noise
    # Gaussian blur
    - prob: 0.9           # Probability of applying Gaussian blur
      args:
        sigma: [0, 2]     # Range for blur intensity
    # Resample
    - prob: 0.1           # Probability of resampling
      args:
        size: [0.4, 0.4]  # Range for resampling size
    # Median blur
    - prob: 1             # Probability of applying median blur
      args:
        k: [1, 1]         # Range for kernel size
